<script setup lang="ts">
import { Alert, AlertDescription, AlertTitle } from '@/components/ui/alert'
import { AlertCircle } from 'lucide-vue-next'
import {
    Table,
    TableBody,
    TableCaption,
    TableCell,
    TableHead,
    TableHeader,
    TableRow,
} from '@/components/ui/table'
import {
    HoverCard,
    HoverCardContent,
    HoverCardTrigger,
} from '@/components/ui/hover-card'
import { ToggleGroup, ToggleGroupItem } from '@/components/ui/toggle-group'
import { Toggle } from '@/components/ui/toggle'
import { Slider } from '@/components/ui/slider'
import {ref} from 'vue'
import { Input } from '@/components/ui/input'
import { Button } from '@/components/ui/button'
import {
  Tooltip,
  TooltipContent,
  TooltipProvider,
  TooltipTrigger
} from '@/components/ui/tooltip'
defineOptions({ inheritAttrs: false })
const props = defineProps({
    matrix:{
        grid:[[]],
        startX:Number,
        startY:Number,
        endX:Number,
        endY:Number
    }
});
const rows = ref(props.matrix.grid.length);
const cols = ref(props.matrix.grid[0].length);
</script>

<template>
        <div id="tablewrapper" class="w-full p-5">
            <transition>
            <Table key="1" v-if="rows > 0 && cols > 0">
                    <TableCaption>{{rows}} x {{cols}}</TableCaption>
                    <TableHeader>
                        <TableRow class="">
                            <TableHead/>
                            <TableHead class="text-center font-bold text-lg" v-for="n in cols">
                                {{n-1}}
                            </TableHead>
                        </TableRow>
                    </TableHeader>
                    <TableBody>
                        <TransitionGroup>
                            <TableRow id="row" v-for="x in rows" :key="x">
                                <TableCell class="font-bold pl-0 text-lg">
                                    {{x-1}}
                                </TableCell>
                                <transition-group>
                                    <TableCell  
                                        v-for="y in cols" :key="y"
                                         :id="if(true) 'x'"
                                        :innerText="matrix.grid[x-1][y-1]"
                                        class="hover:bg-muted border 
                                        border-zinc-50 text-center transition-[opacity,colors]
                                        duration-300"
                                    >

                                    </TableCell>
                                </transition-group>
                            </TableRow>
                        </TransitionGroup>
                    </TableBody>
                </Table>   
        </transition>
        </div>
    <div v-if="rows <=0 || cols <=0" class="text-center hover:bg-muted w-fit mx-auto p-6 mt-16 rounder border">
        <TooltipProvider>
            <Tooltip>
                <TooltipTrigger class="hover:cursor-help text-center text-lg">Matrix not built. 
                    <span class="block underline text-sm text-muted-foreground">help</span>
                </TooltipTrigger>
                <TooltipContent class="text-md">
                    <p>No matrix has been built yet.</p>
                    <p>
                        Please use the builder to build your matrix, so that it can then be 
                        visualized here.
                        Just click on the builder button up there ^
                    </p>
                </TooltipContent>
            </Tooltip>
        </TooltipProvider>
    </div>
</template>

<style>
#app,main{
    width:100%;
}
 .v-enter-active,
.v-leave-active {
  transition: opacity 0.3s ease-in;
}

.v-enter-from,
.v-leave-to {
  opacity: 0;
}
</style>
